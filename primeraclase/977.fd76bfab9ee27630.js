"use strict";(self.webpackChunkprimeraclase=self.webpackChunkprimeraclase||[]).push([[977],{2977:(R,f,i)=>{i.r(f),i.d(f,{CursoModule:()=>O});var l=i(9808),a=i(3007),u=i(4999),g=i(727),t=i(5e3),m=i(9646);let C=(()=>{class o{constructor(){this.courses=[{nombre:"react",duracion:"3 meses",profesor:"prueba 1",fechaInicio:"21/02/2023",id:1},{nombre:"react",duracion:"3 meses",profesor:"prueba 1",fechaInicio:"21/02/2023",id:2}]}getCourses(){return(0,m.of)(this.courses)}getCourseById(e){return(0,m.of)(this.courses.filter(s=>s.id==e)[0])}addCourse(e){return this.courses.push(e),(0,m.of)(this.courses)}updateCourse(e){return this.courses[this.courses.findIndex(s=>s.id=e.id)]=e,(0,m.of)(this.courses)}deleteCourseByCourseId(e){return this.courses=this.courses.filter(s=>s.id!=e),(0,m.of)(this.courses)}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var h=i(7423),v=i(5245);function b(o,r){1&o&&(t.TgZ(0,"div",11)(1,"button",12),t._uU(2," Agregar Curso "),t.qZA()()),2&o&&t.Q6J("routerLink","/course/view")}function Z(o,r){1&o&&(t.TgZ(0,"th",13),t._uU(1,"Nombre"),t.qZA())}function T(o,r){if(1&o&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.Oqu(e.nombre)}}function I(o,r){1&o&&(t.TgZ(0,"th",13),t._uU(1,"Duracion"),t.qZA())}function x(o,r){if(1&o&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.Oqu(e.duracion)}}function y(o,r){1&o&&(t.TgZ(0,"th",13),t._uU(1,"profesor"),t.qZA())}function A(o,r){if(1&o&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.Oqu(e.profesor)}}function N(o,r){1&o&&(t.TgZ(0,"th",13),t._uU(1,"fechaInicio"),t.qZA())}function q(o,r){if(1&o&&(t.TgZ(0,"td",14),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.Oqu(e.fechaInicio)}}function F(o,r){1&o&&(t.TgZ(0,"th",13),t._uU(1,"actions"),t.qZA())}function Y(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"td",14)(1,"button",16),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(2).goToCourse(p.id)}),t.TgZ(2,"mat-icon"),t._uU(3," visibility"),t.qZA()()()}}function B(o,r){1&o&&(t.ynx(0,15),t.YNc(1,F,2,0,"th",3),t.YNc(2,Y,4,0,"td",4),t.BQk())}function w(o,r){1&o&&t._UZ(0,"tr",17)}function U(o,r){1&o&&t._UZ(0,"tr",18)}let D=(()=>{class o{constructor(e,s){this.route=e,this._course=s,this.displayedColumns=["Nombre","Duracion","Profesor","FechaInicio"],this.auth=localStorage.getItem("user");let c=JSON.parse(this.auth);this.admin=c[0].admin,this.admin&&this.displayedColumns.push("actions")}ngOnInit(){this.subscriptions=new g.w0,this.subscriptions.add(this._course.getCourses().subscribe(e=>{this.course=e})),this.dataSource=new u.by(this.course)}goToCourse(e){this.route.navigate(["/course/view/",e])}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(a.F0),t.Y36(C))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-curso"]],viewQuery:function(e,s){if(1&e&&t.Gf(u.BZ,5),2&e){let c;t.iGM(c=t.CRH())&&(s.tabla1=c.first)}},decls:18,vars:5,consts:[["class","demo-button-container",3,"routerLink",4,"ngIf"],["mat-table","",3,"dataSource"],["matColumnDef","Nombre"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Duracion"],["matColumnDef","Profesor"],["matColumnDef","FechaInicio"],["matColumnDef","actions",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"demo-button-container",3,"routerLink"],["mat-raised-button","",1,"demo-button"],["mat-header-cell",""],["mat-cell",""],["matColumnDef","actions"],["mat-Tooltip","Ver detalles","type","button","mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,s){1&e&&(t.YNc(0,b,3,1,"div",0),t.TgZ(1,"table",1),t.ynx(2,2),t.YNc(3,Z,2,0,"th",3),t.YNc(4,T,2,1,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,I,2,0,"th",3),t.YNc(7,x,2,1,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,y,2,0,"th",3),t.YNc(10,A,2,1,"td",4),t.BQk(),t.ynx(11,7),t.YNc(12,N,2,0,"th",3),t.YNc(13,q,2,1,"td",4),t.BQk(),t.YNc(14,B,3,0,"ng-container",8),t.YNc(15,w,1,0,"tr",9),t.YNc(16,U,1,0,"tr",10),t.qZA(),t._UZ(17,"router-outlet")),2&e&&(t.Q6J("ngIf",s.admin),t.xp6(1),t.Q6J("dataSource",s.course),t.xp6(13),t.Q6J("ngIf",s.admin),t.xp6(1),t.Q6J("matHeaderRowDef",s.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns))},directives:[l.O5,a.rH,h.lW,u.BZ,u.w1,u.fO,u.ge,u.Dz,u.ev,v.Hw,u.as,u.XQ,u.nj,u.Gk,a.lC],styles:["table[_ngcontent-%COMP%]{width:100%;overflow-x:auto;overflow-y:hidden;min-width:500px}th.mat-header-cell[_ngcontent-%COMP%]{text-align:left;max-width:300px}"]}),o})();var n=i(3075),d=i(3759),k=i(7322),J=i(7531);function Q(o,r){1&o&&t._uU(0,"Datos personales")}function S(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",12)(1,"div")(2,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().deleteCourse()}),t._uU(3,"Borrar usuario"),t.qZA()()()}}let _=(()=>{class o{constructor(e,s,c,p){this._formBuilder=e,this.route=s,this.router=c,this._courseService=p,this.route.snapshot.params.id?(this.idCourse=this.route.snapshot.params.id,this.createFormWithData(),this.labelButton="Actualizar curso"):(this.createFormEmpty(),this.labelButton="Crear curso")}ngOnInit(){}createFormWithData(){let e=this.getCourseById(this.idCourse);this.firstFormGroup=this._formBuilder.group({nombre:[e.nombre,n.kI.required],fechaInicio:[this.course.fechaInicio,n.kI.required],profesor:[this.course.profesor,n.kI.required],duracion:[this.course.duracion,n.kI.required]})}createFormEmpty(){this.firstFormGroup=this._formBuilder.group({nombre:["",n.kI.required],fechaInicio:["",n.kI.required],profesor:["",n.kI.required],duracion:["",n.kI.required]})}getCourseById(e){return this._courseService.getCourseById(e).subscribe(s=>{this.course=s}),this.course}guardar(){let e={nombre:this.firstFormGroup.controls.nombre.value,duracion:this.firstFormGroup.controls.duracion.value,profesor:this.firstFormGroup.controls.profesor.value,fechaInicio:this.firstFormGroup.controls.fechaInicio.value,id:this.idCourse?this.idCourse:Math.random()};this.idCourse?this._courseService.updateCourse(e).subscribe(s=>{this.router.navigate(["/course/"])}):this._courseService.addCourse(e).subscribe(s=>{this.router.navigate(["/course/"])})}deleteCourse(){this._courseService.deleteCourseByCourseId(this.idCourse).subscribe(e=>{this.router.navigate(["/course/"])})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(n.qu),t.Y36(a.gz),t.Y36(a.F0),t.Y36(C))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-curso-abm"]],decls:24,vars:4,consts:[["stepper",""],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],[1,"row"],[1,"col-xs-12"],["matInput","","placeholder","Nombre del curso","formControlName","nombre","required",""],["matInput","","placeholder","Duracion del curso","formControlName","duracion","required",""],["matInput","","placeholder","Profesor","formControlName","profesor","required",""],["matInput","","placeholder","Fecha Inicio","formControlName","fechaInicio","required",""],["mat-flat-button","","color","primary",3,"click"],["class","col-xs-6",4,"ngIf"],[1,"col-xs-6"],["mat-flat-button","","color","warn",3,"click"]],template:function(e,s){1&e&&(t.TgZ(0,"mat-vertical-stepper",null,0)(2,"mat-step",1)(3,"form",2),t.YNc(4,Q,1,0,"ng-template",3),t.TgZ(5,"div",4)(6,"div",5)(7,"mat-form-field"),t._UZ(8,"input",6),t.qZA()(),t.TgZ(9,"div",5)(10,"mat-form-field"),t._UZ(11,"input",7),t.qZA()(),t.TgZ(12,"div",5)(13,"mat-form-field"),t._UZ(14,"input",8),t.qZA()(),t.TgZ(15,"div",5)(16,"mat-form-field"),t._UZ(17,"input",9),t.qZA()()(),t.TgZ(18,"div",5)(19,"div")(20,"button",10),t.NdJ("click",function(){return s.guardar()}),t._uU(21),t.qZA()()(),t.YNc(22,S,4,0,"div",11),t.qZA()()(),t._UZ(23,"router-outlet")),2&e&&(t.xp6(2),t.Q6J("stepControl",s.firstFormGroup),t.xp6(1),t.Q6J("formGroup",s.firstFormGroup),t.xp6(18),t.Oqu(s.labelButton),t.xp6(1),t.Q6J("ngIf",s.idCourse))},directives:[d.Vq,d.C0,n._Y,n.JL,n.sg,d.VY,k.KE,J.Nt,n.Fj,n.JJ,n.u,n.Q7,h.lW,l.O5,a.lC],styles:[""]}),o})();const G=[{path:"",component:D},{path:"view",component:_},{path:"view/:id",component:_}];let M=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[a.Bz.forChild(G)],a.Bz]}),o})(),O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.ez,M]]}),o})()}}]);